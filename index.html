<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <!-- Div elements to handle the ajax calls -->
    <div id=todaysWeather></div>
    <div id="uvIndex"></div>
    <div id="forecast"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>

        var location = "Portland";

    // This function is responsible for getting todays weather and appending it to the todaysWeather div element
    function getTodaysWeather(city){

        // Variable to to hold the API key for todaysWeather
        var APIKey = "178ad9e584c10611ec693eda4d905c79";

        var queryURL = "https://api.openweathermap.org/data/2.5/weather?" + "q=" + city + "&appid=" + APIKey;

        $.ajax({
            url: queryURL,
            method: "GET"
        })
            // We store all of the retrieved data inside of an object called "response"
            .then(function (response) {
                console.log(response);

                // Log the queryURL
                console.log(queryURL);

                // Log the resulting object
                console.log(response);

                // Transfer content to HTML 
                $("#todaysWeather").html("<h1>" + response.name + " Weather: " + response.main.temp + "K</h1>");
                $(".wind").text("Wind Speed: " + response.wind.speed);
                $(".humidity").text("Humidity: " + response.main.humidity);

                // Convert the temp to fahrenheit
                var tempF = (response.main.temp - 273.15) * 1.80 + 32;

                // add temp content to html
                $(".temp").text("Temperature (K) " + response.main.temp);
                $(".tempF").text("Temperature (F) " + tempF.toFixed(2));
            })
        }
        getTodaysWeather(location)

    </script>
</body>

</html>